from tkinter import *
from math import *

xMax = 500
yMax = 550
X = 0
Y = 1
D = 1

theta = 0.25

def fractal(x1, y1, x2, y2, d, w):
   if (d == 0):
      w.create_line(x1, y1, x2, y2) 
   else:
      xMid = abs(x1 - x2) / 2
      yMid = abs(y1 - y2) / 2
      dx = abs(x1 - xMid)
      dy = abs(y1 - yMid)
      hyp = sqrt(dx ** 2 + dy ** 2)
      opp = sin(theta) * hyp
      
      B = atan(dx / dy)
      C = pi - B
      dx = sin(C) * opp
      dy = sin(B) * opp
      xMid += dx
      yMid += dy

      w.create_line(x1, y1, x2, y2, fill="red")
      fractal(x1, y1, xMid, yMid, d - 1, w)
      fractal(xMid, yMid, x2, y2, d - 1, w) 

def main():
   root = Tk()

   w = Canvas(root, width=xMax, height=yMax)
   w.pack()
  
   v = [(250, 122), (425, 425), (75, 425)]
   n = len(v) 

   for i in range(n):
      x1 = v[i][X]
      y1 = v[i][Y]
      x2 = v[(i + 1) % n][X]
      y2 = v[(i + 1) % n][Y]
      fractal(x1, y1, x2, y2, D, w)
      break

   mainloop()

main()

